{"ast":null,"code":"var _jsxFileName = \"D:\\\\kHAIITDEVERLOPER\\\\iot\\\\traffic\\\\frontend-react\\\\src\\\\components\\\\History.jsx\",\n  _s = $RefreshSig$();\n// frontend-react/src/components/History.jsx\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function History() {\n  _s();\n  const [records, setRecords] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:5000/api/records\").then(res => res.json()).then(data => setRecords(data)).catch(() => setRecords([]));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      fontFamily: \"Arial\",\n      background: \"#f4f4f4\",\n      minHeight: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        color: \"#d32f2f\"\n      },\n      children: \"L\\u1ECACH S\\u1EEC PH\\u01AF\\u01A0NG TI\\u1EC6N \\u0110\\xC3 QUA (CH\\u1EC8 ADMIN XEM \\u0110\\u01AF\\u1EE2C)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), records.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: 18,\n        color: \"gray\"\n      },\n      children: \"Ch\\u01B0a c\\xF3 d\\u1EEF li\\u1EC7u \\u2013 cho xe \\u0111i qua v\\u1EA1ch v\\xE0ng \\u0111\\u1EC3 l\\u01B0u nh\\xE9!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        width: \"100%\",\n        borderCollapse: \"collapse\",\n        background: \"white\",\n        boxShadow: \"0 0 10px rgba(0,0,0,0.1)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        style: {\n          background: \"#333\",\n          color: \"white\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"ID Xe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Bi\\u1EC3n s\\u1ED1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Lo\\u1EA1i xe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"H\\u01B0\\u1EDBng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Th\\u1EDDi gian\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"\\u1EA2nh to\\xE0n c\\u1EA3nh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"\\u1EA2nh bi\\u1EC3n s\\u1ED1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: records.map(r => {\n          var _r$direction;\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              borderBottom: \"1px solid #ddd\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: r.track_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                style: {\n                  color: \"red\",\n                  fontSize: 18\n                },\n                children: r.plate_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: r.vehicle_type || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: (_r$direction = r.direction) === null || _r$direction === void 0 ? void 0 : _r$direction.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: new Date(r.detected_at).toLocaleString(\"vi-VN\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:5000${r.full_image_path}`,\n                alt: \"full\",\n                style: {\n                  width: 250,\n                  borderRadius: 8\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:5000${r.plate_image_path}`,\n                alt: \"plate\",\n                style: {\n                  width: 150,\n                  border: \"3px solid red\",\n                  borderRadius: 8\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this)]\n          }, r.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n}\n_s(History, \"2hVe065MKzxnAZ4C3qrhRP61L3w=\");\n_c = History;\nconst thStyle = {\n  padding: 12,\n  textAlign: \"center\"\n};\nconst tdStyle = {\n  padding: 10,\n  textAlign: \"center\",\n  verticalAlign: \"top\"\n};\nvar _c;\n$RefreshReg$(_c, \"History\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","History","_s","records","setRecords","fetch","then","res","json","data","catch","style","padding","fontFamily","background","minHeight","children","textAlign","color","fileName","_jsxFileName","lineNumber","columnNumber","length","fontSize","width","borderCollapse","boxShadow","thStyle","map","r","_r$direction","borderBottom","tdStyle","track_id","plate_number","vehicle_type","direction","toUpperCase","Date","detected_at","toLocaleString","src","full_image_path","alt","borderRadius","plate_image_path","border","id","_c","verticalAlign","$RefreshReg$"],"sources":["D:/kHAIITDEVERLOPER/iot/traffic/frontend-react/src/components/History.jsx"],"sourcesContent":["// frontend-react/src/components/History.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nexport default function History() {\r\n  const [records, setRecords] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/records\")\r\n      .then(res => res.json())\r\n      .then(data => setRecords(data))\r\n      .catch(() => setRecords([]));\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: 20, fontFamily: \"Arial\", background: \"#f4f4f4\", minHeight: \"100vh\" }}>\r\n      <h1 style={{ textAlign: \"center\", color: \"#d32f2f\" }}>\r\n        LỊCH SỬ PHƯƠNG TIỆN ĐÃ QUA (CHỈ ADMIN XEM ĐƯỢC)\r\n      </h1>\r\n      {records.length === 0 ? (\r\n        <p style={{ textAlign: \"center\", fontSize: 18, color: \"gray\" }}>\r\n          Chưa có dữ liệu – cho xe đi qua vạch vàng để lưu nhé!\r\n        </p>\r\n      ) : (\r\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\", background: \"white\", boxShadow: \"0 0 10px rgba(0,0,0,0.1)\" }}>\r\n          <thead style={{ background: \"#333\", color: \"white\" }}>\r\n            <tr>\r\n              <th style={thStyle}>ID Xe</th>\r\n              <th style={thStyle}>Biển số</th>\r\n              <th style={thStyle}>Loại xe</th>\r\n              <th style={thStyle}>Hướng</th>\r\n              <th style={thStyle}>Thời gian</th>\r\n              <th style={thStyle}>Ảnh toàn cảnh</th>\r\n              <th style={thStyle}>Ảnh biển số</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {records.map(r => (\r\n              <tr key={r.id} style={{ borderBottom: \"1px solid #ddd\" }}>\r\n                <td style={tdStyle}>{r.track_id}</td>\r\n                <td style={tdStyle}><b style={{ color: \"red\", fontSize: 18 }}>{r.plate_number}</b></td>\r\n                <td style={tdStyle}>{r.vehicle_type || \"N/A\"}</td>\r\n                <td style={tdStyle}>{r.direction?.toUpperCase()}</td>\r\n                <td style={tdStyle}>{new Date(r.detected_at).toLocaleString(\"vi-VN\")}</td>\r\n                <td style={tdStyle}>\r\n                  <img src={`http://localhost:5000${r.full_image_path}`} alt=\"full\" style={{ width: 250, borderRadius: 8 }} />\r\n                </td>\r\n                <td style={tdStyle}>\r\n                  <img src={`http://localhost:5000${r.plate_image_path}`} alt=\"plate\" style={{ width: 150, border: \"3px solid red\", borderRadius: 8 }} />\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst thStyle = { padding: 12, textAlign: \"center\" };\r\nconst tdStyle = { padding: 10, textAlign: \"center\", verticalAlign: \"top\" };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}